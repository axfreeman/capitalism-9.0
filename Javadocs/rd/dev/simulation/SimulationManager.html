<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (1.8.0_144) on Thu Nov 16 16:37:47 CST 2017 -->
<title>SimulationManager</title>
<meta name="date" content="2017-11-16">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SimulationManager";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SimulationManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../rd/dev/simulation/MainApp.html" title="class in capitalism"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?rd/dev/simulation/SimulationManager.html" target="_top">Frames</a></li>
<li><a href="SimulationManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">capitalism</div>
<h2 title="Class SimulationManager" class="title">Class SimulationManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>capitalism.controller.Simulation</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">SimulationManager</span>
extends java.lang.Object</pre>
<div class="block">Wrapper for all the action.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>afree</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#currentProject">currentProject</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static org.apache.logging.log4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#logger">logger</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#timeStamp">timeStamp</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#timeStampComparatorCursor">timeStampComparatorCursor</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#timeStampCursor">timeStampCursor</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#SimulationManager--">SimulationManager</a></span>()</code>
<div class="block">bare constructor for the simulation manager</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#advanceOneStep-java.lang.String-">advanceOneStep</a></span>(java.lang.String&nbsp;description)</code>
<div class="block">Move the timeStamp record to contain a new timestamp with the current project.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#allocateToStocks--">allocateToStocks</a></span>()</code>
<div class="block">Lower the quantity demanded for each stock to reconcile it with what is available
 Do not increase it above what is already proposed
 This is the separate function of investment, which comes under distribution</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#calculateAggregateValuesAndPrices--">calculateAggregateValuesAndPrices</a></span>()</code>
<div class="block">tell every use value to sum, independent of each other, the quantity, value and price of all stocks of this type</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#calculateAllocationShare--">calculateAllocationShare</a></span>()</code>
<div class="block">given supply and demand, calculate what proportion of demand can actually be satisfied</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#calculateStockValuesAndPrices--">calculateStockValuesAndPrices</a></span>()</code>
<div class="block">tell every stock to record its value and price, based on the quantity of the stock, its unit value and its price</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#checkInvariants--">checkInvariants</a></span>()</code>
<div class="block">Test the invariants of motion.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#constrainOutput--">constrainOutput</a></span>()</code>
<div class="block">Lower the output of each producer to reconcile it with what is available
 Do not increase it above what is already proposed
 This is the separate function of investment, which comes under distribution</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#diagnosticDump-java.lang.String-">diagnosticDump</a></span>(java.lang.String&nbsp;dumpDescription)</code>
<div class="block">Log a diagnostic dump of the main variables to the Debug appender</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#distribute--">distribute</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#getCurrentProject--">getCurrentProject</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#getTimeStamp--">getTimeStamp</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#getTimeStampComparatorCursor--">getTimeStampComparatorCursor</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#getTimeStampCursor--">getTimeStampCursor</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#produce--">produce</a></span>()</code>
<div class="block">Produce.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#productiveCircuitsProduce--">productiveCircuitsProduce</a></span>()</code>
<div class="block">produce for one period.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#productivePurchasesTrade--">productivePurchasesTrade</a></span>()</code>
<div class="block">each productive circuit purchases the stocks that it needs</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#reCalculateUnitPricesAndValues--">reCalculateUnitPricesAndValues</a></span>()</code>
<div class="block">For each stock, calculate its value and price based on current unit values and prices.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#reCalibratePrices--">reCalibratePrices</a></span>()</code>
<div class="block">calculates the total price and value in the economy and adjusts prices so that totalPrice/totalValue=MELT
 
 in general, the MELT may of course change and this will be determined exogenously, hence by supplementary algorithms
 
 for now, the simplest is to keep it constant</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#registerAllocation--">registerAllocation</a></span>()</code>
<div class="block">allocate():An algorithm (eventually user-defined) to allocate the goods supplied between demanders.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#registerDemand--">registerDemand</a></span>()</code>
<div class="block">registerDemand.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#registerProductiveDemand--">registerProductiveDemand</a></span>()</code>
<div class="block">one of the most complex methods in the simulation
 
 Each circuit manages a set of productive stocks.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#registerSocialClassDemand--">registerSocialClassDemand</a></span>()</code>
<div class="block">register the demand for consumption goods by the various social classes (at present normally 2 but this can be made quite
 variable eg by creating different classes based on property rights, income level, etc.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#registerSupply--">registerSupply</a></span>()</code>
<div class="block"><code>registerSupply</code> Initialise the supply of every use value to zero.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#registerSupplyDemandAndAllocation--">registerSupplyDemandAndAllocation</a></span>()</code>
<div class="block"><code>registerSupplyDemandAndAllocation</code> combines @link registerSupply, @link registerDemand and @link allocate in one button press</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#setCurrentProject-int-">setCurrentProject</a></span>(int&nbsp;project)</code>&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#setTimeStamp-int-">setTimeStamp</a></span>(int&nbsp;timeStamp)</code>&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#setTimeStampComparatorCursor-int-">setTimeStampComparatorCursor</a></span>(int&nbsp;timeStampComparatorCursor)</code>&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#setTimeStampCursor-int-">setTimeStampCursor</a></span>(int&nbsp;timeStampCursor)</code>&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#socialClassesReproduce--">socialClassesReproduce</a></span>()</code>
<div class="block">reproduce all social classes. in general as complex as you like. in the simple currentProject:
 
 (1) grow the population at the global rate
 
 (2) consume the entire stock of consumption goods(no durables yet)
 
 (3) workers reproduce their labour power</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#socialClassesTrade--">socialClassesTrade</a></span>()</code>
<div class="block">each social class purchases the consumption goods that it needs</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#startup--">startup</a></span>()</code>
<div class="block">startup.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#trade--">trade</a></span>()</code>
<div class="block">Carry out the purchases
 
 Transfer output from sales to the purchasers in the amounts decided by the constrained allocation, and pay for them</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../rd/dev/simulation/SimulationManager.html#transferStock-capitalism.model.Stock-capitalism.model.Stock-double-">transferStock</a></span>(<a href="../../../rd/dev/simulation/model/Stock.html" title="class in capitalism.model">Stock</a>&nbsp;from,
             <a href="../../../rd/dev/simulation/model/Stock.html" title="class in capitalism.model">Stock</a>&nbsp;to,
             double&nbsp;quantityTransferred)</code>
<div class="block">Helper function transfers quantityTransferred from fromStock to toStock
 
 Also transfers the value of the stock and the price
 
 Carries out checks and throws an exception if conditions are violated</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>private static final&nbsp;org.apache.logging.log4j.Logger logger</pre>
</li>
</ul>
<a name="currentProject">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentProject</h4>
<pre>private&nbsp;int currentProject</pre>
</li>
</ul>
<a name="timeStamp">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timeStamp</h4>
<pre>private&nbsp;int timeStamp</pre>
</li>
</ul>
<a name="timeStampCursor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timeStampCursor</h4>
<pre>private&nbsp;int timeStampCursor</pre>
</li>
</ul>
<a name="timeStampComparatorCursor">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>timeStampComparatorCursor</h4>
<pre>private&nbsp;int timeStampComparatorCursor</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SimulationManager--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SimulationManager</h4>
<pre>public&nbsp;SimulationManager()</pre>
<div class="block">bare constructor for the simulation manager</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="startup--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startup</h4>
<pre>public&nbsp;void&nbsp;startup()</pre>
<div class="block">startup. Initialise all variables that are derived from user data but not required explicitly
 TODO validate user data at this point</div>
</li>
</ul>
<a name="checkInvariants--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkInvariants</h4>
<pre>public&nbsp;void&nbsp;checkInvariants()</pre>
<div class="block">Test the invariants of motion. Calculates, for each usevalue, the total price and total value based on what this usevalue knows. Compares it with the
 recorded totalprice and total value. Logs an error if they are not the same.
 <p>
 TODO incorporate further checks, as follows:
 <p>
 (1) no new value is created except in production
 <p>
 (2) total new value created in production is equal to total labour power used up</div>
</li>
</ul>
<a name="advanceOneStep-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>advanceOneStep</h4>
<pre>public&nbsp;void&nbsp;advanceOneStep(java.lang.String&nbsp;description)</pre>
<div class="block">Move the timeStamp record to contain a new timestamp with the current project.
 Then create a new record for every entity in the simulation, with this timestamp and the current currentProject.
 In case of misuse, it flags an exception if there is a duplicate key error rather than allowing a fail.
 TODO make this a bit more failsafe and foolproof</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>description</code> - description of the new timeStamp, which is displayed in the selection table for timeStamps</dd>
</dl>
</li>
</ul>
<a name="calculateStockValuesAndPrices--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateStockValuesAndPrices</h4>
<pre>public&nbsp;void&nbsp;calculateStockValuesAndPrices()</pre>
<div class="block">tell every stock to record its value and price, based on the quantity of the stock, its unit value and its price</div>
</li>
</ul>
<a name="calculateAggregateValuesAndPrices--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateAggregateValuesAndPrices</h4>
<pre>private&nbsp;void&nbsp;calculateAggregateValuesAndPrices()</pre>
<div class="block">tell every use value to sum, independent of each other, the quantity, value and price of all stocks of this type</div>
</li>
</ul>
<a name="registerSupplyDemandAndAllocation--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerSupplyDemandAndAllocation</h4>
<pre>public&nbsp;void&nbsp;registerSupplyDemandAndAllocation()</pre>
<div class="block"><code>registerSupplyDemandAndAllocation</code> combines @link registerSupply, @link registerDemand and @link allocate in one button press</div>
</li>
</ul>
<a name="registerSupply--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerSupply</h4>
<pre>public&nbsp;void&nbsp;registerSupply()</pre>
<div class="block"><code>registerSupply</code> Initialise the supply of every use value to zero.
 <p>
 Then ask the sales stock of every productive circuit and every social class to add its quantity to the total supply of the relevant usevalue.
 <p>
 Note Labour Power is contributed in the current test dataset only by the Workers class; this could be varied, for example if there is a small business or
 peasant class, or differentiated labour power.</div>
</li>
</ul>
<a name="registerDemand--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerDemand</h4>
<pre>public&nbsp;void&nbsp;registerDemand()</pre>
<div class="block">registerDemand.
 The work is done by circuitManager and socialClassManager
 When that has been persisted, the allocation share is calculated by dm</div>
</li>
</ul>
<a name="registerProductiveDemand--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerProductiveDemand</h4>
<pre>public&nbsp;void&nbsp;registerProductiveDemand()</pre>
<div class="block">one of the most complex methods in the simulation
 
 Each circuit manages a set of productive stocks.
 The coefficient of each stock specifies how much of it the circuit must own, in order to produce one unit of output
 <p>
 The circuit first calculates how much money is needed to produce one unit of output, by calculating what it must spend on each stock
 to be in a position to make one unit of output. Note that this is an outlay on fixed capital and not to be confused
 with the quantity of the stock that will be consumed in production.
 <p>
 When the circuit has worked out the number of units of output it can produce, it then calculates the amount of each stock it
 would need, ideally, to produce at this level
 <p>
 At this stage (of developing the code) no attempt is made to estimate the likely demand for the product: this means
 that the price/supply/demand mechanism alone constrains suppliers. this may or may not be realistic but
 it's the simplest assumption, hence the best basis on which to start.
 <p>
 A circuit discovers the level of demand by trying to sell their product.
 <p>
 It tries first to maintain its existing level of production (at the outset, specified by the initial conditions,subsequently by what it last achieved)
 <p>
 The circuit first simply tries to continue producing at this existing level.
 <p>
 If it has any money left over, it then tries to invest it.
 <p>
 A reaction function then imposes price increases or decreases according to the discrepancy between the two.
 <p>
 More complex adjustment mechanisms can and should be developed.</div>
</li>
</ul>
<a name="registerSocialClassDemand--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerSocialClassDemand</h4>
<pre>public&nbsp;void&nbsp;registerSocialClassDemand()</pre>
<div class="block">register the demand for consumption goods by the various social classes (at present normally 2 but this can be made quite
 variable eg by creating different classes based on property rights, income level, etc.
 
 In this initial simulation it's quite simple: all classes are assumed to demand in proportion to the global 'consumption per person'
 and dependent on the number of people in the class
 
 There are as yet no reproduction dynamics: we don't suppose that a failure to secure the goods results in death or disability
 
 This also needs to be customised.</div>
</li>
</ul>
<a name="constrainOutput--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>constrainOutput</h4>
<pre>public&nbsp;void&nbsp;constrainOutput()</pre>
<div class="block">Lower the output of each producer to reconcile it with what is available
 Do not increase it above what is already proposed
 This is the separate function of investment, which comes under distribution</div>
</li>
</ul>
<a name="calculateAllocationShare--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateAllocationShare</h4>
<pre>public&nbsp;void&nbsp;calculateAllocationShare()</pre>
<div class="block">given supply and demand, calculate what proportion of demand can actually be satisfied</div>
</li>
</ul>
<a name="registerAllocation--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerAllocation</h4>
<pre>public&nbsp;void&nbsp;registerAllocation()</pre>
<div class="block">allocate():An algorithm (eventually user-defined) to allocate the goods supplied between demanders.
 All circuits adjust their proposed outputs in accordance with what they can get their hands on.
 It is not possible to acquire goods that do not exist.
 <p>
 Also, circuits cannot increase output above what they initially ask for, even if it is available.
 <p>
 This is an investment function, and is to be dealt with under the distribution of the surplus
 <p>
 At present, just a simple share; there is space here for user-supplied algorithms corresponding
 to various models
 <p>
 TODO there may be multiple suppliers of the same good, in which case it's also necessary to decide who gets to supply what.</div>
</li>
</ul>
<a name="allocateToStocks--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocateToStocks</h4>
<pre>public&nbsp;void&nbsp;allocateToStocks()</pre>
<div class="block">Lower the quantity demanded for each stock to reconcile it with what is available
 Do not increase it above what is already proposed
 This is the separate function of investment, which comes under distribution</div>
</li>
</ul>
<a name="trade--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>trade</h4>
<pre>public&nbsp;void&nbsp;trade()</pre>
<div class="block">Carry out the purchases
 <p>
 Transfer output from sales to the purchasers in the amounts decided by the constrained allocation, and pay for them</div>
</li>
</ul>
<a name="productivePurchasesTrade--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>productivePurchasesTrade</h4>
<pre>public&nbsp;void&nbsp;productivePurchasesTrade()</pre>
<div class="block">each productive circuit purchases the stocks that it needs</div>
</li>
</ul>
<a name="socialClassesTrade--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>socialClassesTrade</h4>
<pre>public&nbsp;void&nbsp;socialClassesTrade()</pre>
<div class="block">each social class purchases the consumption goods that it needs</div>
</li>
</ul>
<a name="transferStock-capitalism.model.Stock-capitalism.model.Stock-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transferStock</h4>
<pre>public&nbsp;void&nbsp;transferStock(<a href="../../../rd/dev/simulation/model/Stock.html" title="class in capitalism.model">Stock</a>&nbsp;from,
                          <a href="../../../rd/dev/simulation/model/Stock.html" title="class in capitalism.model">Stock</a>&nbsp;to,
                          double&nbsp;quantityTransferred)
                   throws java.lang.RuntimeException</pre>
<div class="block">Helper function transfers quantityTransferred from fromStock to toStock
 <p>
 Also transfers the value of the stock and the price
 <p>
 Carries out checks and throws an exception if conditions are violated</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>from</code> - the stock that is losing the value</dd>
<dd><code>to</code> - the stock that is gaining the value</dd>
<dd><code>quantityTransferred</code> - the amount to transfer</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.RuntimeException</code></dd>
</dl>
</li>
</ul>
<a name="produce--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>produce</h4>
<pre>public&nbsp;void&nbsp;produce()</pre>
<div class="block">Produce. For each circuit decrease the stocks and increase the sales stocks, using the turnover property to decide how much gets used up.
 For each social circuit decrease the stock of consumption goods and decide, on Malthusian principles, what happens to the classes
 (user algorithms could play a big role here). Recalculate the value produced (=C*MELT +L)</div>
</li>
</ul>
<a name="productiveCircuitsProduce--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>productiveCircuitsProduce</h4>
<pre>public&nbsp;void&nbsp;productiveCircuitsProduce()</pre>
<div class="block">produce for one period. For each managed stock decrease the quantity by output/turnover
 <p>
 for the circuit itself increase salesstock by output
 <p>
 add the labour power consumed to the value of the sales stock
 <p>
 TODO usevalues should re-calculate the unit value when all producers are done
 don't do anything with the price</div>
</li>
</ul>
<a name="distribute--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>distribute</h4>
<pre>public&nbsp;void&nbsp;distribute()</pre>
</li>
</ul>
<a name="socialClassesReproduce--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>socialClassesReproduce</h4>
<pre>public&nbsp;void&nbsp;socialClassesReproduce()</pre>
<div class="block">reproduce all social classes. in general as complex as you like. in the simple currentProject:
 <p>
 (1) grow the population at the global rate
 <p>
 (2) consume the entire stock of consumption goods(no durables yet)
 <p>
 (3) workers reproduce their labour power</div>
</li>
</ul>
<a name="reCalculateUnitPricesAndValues--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reCalculateUnitPricesAndValues</h4>
<pre>public&nbsp;void&nbsp;reCalculateUnitPricesAndValues()</pre>
<div class="block">For each stock, calculate its value and price based on current unit values and prices. Calculate the total quantity, value and price of each use value,
 based on the stocks of it. For all usevalues, calculate the total quantity, value and price, based on the stocks of this useValue.
 Only use the totals that are in the stocks; do not recalculate the value and price</div>
</li>
</ul>
<a name="reCalibratePrices--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reCalibratePrices</h4>
<pre>public&nbsp;void&nbsp;reCalibratePrices()</pre>
<div class="block">calculates the total price and value in the economy and adjusts prices so that totalPrice/totalValue=MELT
 <p>
 in general, the MELT may of course change and this will be determined exogenously, hence by supplementary algorithms
 <p>
 for now, the simplest is to keep it constant</div>
</li>
</ul>
<a name="diagnosticDump-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>diagnosticDump</h4>
<pre>public&nbsp;void&nbsp;diagnosticDump(java.lang.String&nbsp;dumpDescription)</pre>
<div class="block">Log a diagnostic dump of the main variables to the Debug appender</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dumpDescription</code> - a brief description</dd>
</dl>
</li>
</ul>
<a name="getCurrentProject--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentProject</h4>
<pre>public&nbsp;java.lang.Integer&nbsp;getCurrentProject()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the currentProject</dd>
</dl>
</li>
</ul>
<a name="setCurrentProject-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCurrentProject</h4>
<pre>public&nbsp;void&nbsp;setCurrentProject(int&nbsp;project)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>project</code> - the project to set</dd>
</dl>
</li>
</ul>
<a name="getTimeStamp--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimeStamp</h4>
<pre>public&nbsp;int&nbsp;getTimeStamp()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the timeStamp</dd>
</dl>
</li>
</ul>
<a name="setTimeStamp-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimeStamp</h4>
<pre>public&nbsp;void&nbsp;setTimeStamp(int&nbsp;timeStamp)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeStamp</code> - the timeStamp to set</dd>
</dl>
</li>
</ul>
<a name="getTimeStampCursor--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimeStampCursor</h4>
<pre>public&nbsp;int&nbsp;getTimeStampCursor()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the timeStampCursor</dd>
</dl>
</li>
</ul>
<a name="setTimeStampCursor-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimeStampCursor</h4>
<pre>public&nbsp;void&nbsp;setTimeStampCursor(int&nbsp;timeStampCursor)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeStampCursor</code> - the timeStampCursor to set</dd>
</dl>
</li>
</ul>
<a name="getTimeStampComparatorCursor--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimeStampComparatorCursor</h4>
<pre>public&nbsp;int&nbsp;getTimeStampComparatorCursor()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the timeStampComparatorCursor</dd>
</dl>
</li>
</ul>
<a name="setTimeStampComparatorCursor-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setTimeStampComparatorCursor</h4>
<pre>public&nbsp;void&nbsp;setTimeStampComparatorCursor(int&nbsp;timeStampComparatorCursor)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeStampComparatorCursor</code> - the timeStampComparatorCursor to set</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SimulationManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../rd/dev/simulation/MainApp.html" title="class in capitalism"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?rd/dev/simulation/SimulationManager.html" target="_top">Frames</a></li>
<li><a href="SimulationManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
